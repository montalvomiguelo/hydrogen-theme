import{t as s,r as i}from"./theme.Cfke23E1.min.js";import"./modulepreload-polyfill.BCYanipZ.min.js";class n extends window.HTMLElement{constructor(){super(),this.addEventListener("keyup",e=>e.code==="Escape"&&this.close()),this.querySelector("#CartDrawer-Overlay").addEventListener("click",this.close.bind(this)),this.setHeaderCartIconAccessibility()}setHeaderCartIconAccessibility(){const e=document.querySelector("#cart-icon-bubble");e.setAttribute("role","button"),e.setAttribute("aria-haspopup","dialog"),e.addEventListener("click",t=>{t.preventDefault(),this.open(e)}),e.addEventListener("keydown",t=>{t.code.toUpperCase()==="SPACE"&&(t.preventDefault(),this.open(e))})}open(e){e&&this.setActiveElement(e),setTimeout(()=>{this.classList.add("active")}),this.addEventListener("transitionend",()=>{const t=document.getElementById("CartDrawer"),r=this.querySelector('[tabindex="-1"]');s(t,r)},{once:!0}),document.body.classList.add("overflow-hidden")}close(){this.classList.remove("active"),i(this.activeElement),document.body.classList.remove("overflow-hidden")}renderContents(e){this.productId=e.id,this.getSectionsToRender().forEach(t=>{const r=t.selector?document.querySelector(t.selector):document.getElementById(t.id);r.innerHTML=this.getSectionInnerHTML(e.sections[t.id],t.selector)}),setTimeout(()=>{this.querySelector("#CartDrawer-Overlay").addEventListener("click",this.close.bind(this)),this.open()})}getSectionInnerHTML(e,t=".shopify-section"){return new window.DOMParser().parseFromString(e,"text/html").querySelector(t).innerHTML}getSectionsToRender(){return[{id:"cart-drawer",selector:"#CartDrawer"},{id:"cart-icon-bubble"}]}setActiveElement(e){this.activeElement=e}}window.customElements.define("cart-drawer",n);
